{{> admin-tabs route="shifts" }}

<div class="d-flex align-items-center pt-3 pb-5 my-3 text-white-50 bg-purple">
{{#if shift}}
    <form class="row" action="/admin/shifts/{{shift.id}}?_method=PUT" method="POST">
      <div class="col-auto">
        <input class="form-control" type="text" placeholder="name" name="name" value="{{shift.name}}" require>
        <input class="form-control" type="time" step="60" placeholder="startTime" name="startTime" value="{{shift.startTime}}" require>
        <input class="form-control" type="time" step="60" placeholder="endTime" name="endTime" value="{{shift.endTime}}" require>
      </div>
      <div class="col-auto">
        <button class="btn btn-warning" type="submit">Update</button>
        <a class="btn btn-info" href="/admin/shifts">or Create New</a>
      </div>
    </form>
  {{else}}
    <form class="row" action="/admin/shifts" method="POST">
      <div class="col-auto">
        <input class="form-control" type="text" placeholder="Shift Name" name="name" require>
        <input class="form-control" type="time" step="60" placeholder="startTime" name="startTime" require>
        <input class="form-control" type="time" step="60" placeholder="endTime" name="endTime" require>
      </div>
      <div class="col-auto">
        <button class="btn btn-success" type="submit">Create</button>
      </div>
    </form>
  {{/if}}
</div>
<table class="table align-middle">
  <thead class="thead-dark">
    <tr>
      <th scope="col">#</th>
      <th scope="col">Shift Name</th>
      <th scope="col">Start Time</th>
      <th scope="col">End Time</th>
      <th scope="col">#</th>
    </tr>
  </thead>
  <tbody>
    {{#each shifts}}
      <tr>
        <th scope="row">{{this.id}}</th>
        <td>{{this.name}}</td>
        <td>{{this.startTime}}</td>
        <td>{{this.endTime}}</td>

        <td>
          <button type="button" style="text-decoration: none;">
            <a class="btn link-primary" href="/admin/shifts/{{this.id}}">
              Edit
            </a>
          </button>
          <form action="/admin/shifts/{{this.id}}?_method=DELETE" method="POST" style="display: inline; text-decoration: none;">
            <button type="submit" class="btn link-danger" onclick="return confirm(`Are you sure you want to delete {{ this.name }}?`);">Delete</button>
          </form>
        </td>
      </tr>
    {{/each}}
  </tbody>
</table>
<br />
<br />