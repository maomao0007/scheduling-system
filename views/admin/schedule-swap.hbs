<div class="container mt-4">
  <h2 class="mb-4">Swap Schedules Request</h2>

  <div class="table-responsive">
    <table class="table table-striped table-hover">
      <thead class="table-light">
        <tr>
          <th>User ID</th>
          <th>Name</th>
          <th>Email</th>
          <th>Start Shift Date</th>
          <th>End Shift Date</th>
          <th>Swap With</th>
          <th>Status</th>
          <th>Approved By</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>

        <tr>
          <td>{{swap.Requester.id}}</td>
          <td>{{swap.Requester.name}}</td>
          <td>{{swap.Requester.email}}</td>
          <td>{{formatDate swap.startDate}}</td>
          <td>{{formatDate swap.endDate}}</td>
          <td>{{swap.Colleague.name}}</td>
          <td>
            <form action="/admin/schedules-swap/{{swap.id}}" method="POST">
              <label for="status" class="form-label">Status:</label>
              <select id="status" name="status" class="form-control" required>
                <option value="" disabled>Select Status</option>
                <option value="pending" {{#ifCond swap.status "pending"}}selected{{/ifCond}}>Pending</option>
                <option value="approved" {{#ifCond swap.status "approved"}}selected{{/ifCond}}>Approved</option>
                <option value="rejected" {{#ifCond swap.status "rejected"}}selected{{/ifCond}}>Rejected</option>
              </select>
          </td>
          <td>
              <label for="approvedById" class="form-label">Approved By:</label>
              <select id="approvedById" name="approvedById" class="form-control" required>
                <option value="" disabled selected>Select Approver</option>
                {{#each admin}}
                <option value="{{this.id}}" {{#ifCond ../swap.approvedById this.id}}selected{{/ifCond}}>{{this.name}}</option>
                {{/each}}
              </select>
          </td>
          <td>
              <button type="submit" class="btn btn-primary mt-3">Submit</button>
            </form>
          </td>
        </tr>

      </tbody>
    </table>
  </div>
  <div class="mt-3">
    <a href="javascript:history.back()" class="btn btn-secondary">Back</a>
  </div>
</div>